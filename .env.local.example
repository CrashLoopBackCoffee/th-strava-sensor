#!/bin/bash
# Example local environment configuration
# Copy this file to .env.local and configure for your setup

# Option 1: Using 1Password CLI (recommended for security)
# Uncomment and configure the following if you use 1Password:

# ONE_PASSWORD_TOKEN="op://vault/item/field"  # Your service account token reference
#
# # Only authenticate with 1Password if not already authenticated
# if [ -z "${OP_SERVICE_ACCOUNT_TOKEN:-}" ]; then
#   echo -e "Setting up 1Password CLI"
#   export OP_SERVICE_ACCOUNT_TOKEN=$(op read "${ONE_PASSWORD_TOKEN}")
# else
#   echo -e "1Password CLI already authenticated, using existing token"
# fi
#
# # Load all credentials at once using op inject
# echo "Loading credentials from 1Password..."
# eval $(cat <<'EOF' | op inject
# export GARMIN_USERNAME="{{ op://vault/garmin-item/username }}"
# export GARMIN_PASSWORD="{{ op://vault/garmin-item/password }}"
# export MQTT_USERNAME="{{ op://vault/mqtt-item/username }}"
# export MQTT_PASSWORD="{{ op://vault/mqtt-item/password }}"
# export STRAVA_CLIENT_ID="{{ op://vault/strava-item/client_id }}"
# export STRAVA_CLIENT_SECRET="{{ op://vault/strava-item/client_secret }}"
# export STRAVA_REFRESH_TOKEN="{{ op://vault/strava-item/refresh_token }}"
# EOF
# )

# Option 2: Direct environment variables (less secure)
# Uncomment and configure the following for direct credential setup:

# export GARMIN_USERNAME="your_garmin_username"
# export GARMIN_PASSWORD="your_garmin_password"
# export MQTT_USERNAME="your_mqtt_username"
# export MQTT_PASSWORD="your_mqtt_password"
# export STRAVA_CLIENT_ID="your_strava_client_id"
# export STRAVA_CLIENT_SECRET="your_strava_client_secret"
# export STRAVA_REFRESH_TOKEN="your_strava_refresh_token"

# MQTT broker configuration
export MQTT_BROKER_URL="mqtts://your-mqtt-broker:8883"

# Optional: Webhook configuration for Strava integration
# export STRAVA_VERIFY_TOKEN="your_webhook_verify_token"
# export STRAVA_WEBHOOK_URL="https://your-public-url/strava/webhook"
# export WEBHOOK_PORT=8000

echo "Local environment configuration loaded"
